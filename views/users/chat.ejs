<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat - VintageChat</title>
    <link rel="icon" href="/assets/VintageChat.png" />
    <link rel="stylesheet" href="/css/navbar.css" />
    <link rel="stylesheet" href="/css/footer.css" />
    <link rel="stylesheet" href="/css/chat.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Verdana:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="/socket.io/socket.io.js"></script>
    <script src="/scripts/darkMode.js" defer></script>
    <script src="/scripts/chat.js" defer></script>
    <script src="/scripts/search.js" defer></script>
  </head>

  <body>
    <header class="navbar">
      <div class="navbar-content">
        <a href="/">
          <img src="/assets/VintageChat.png" alt="Logo" class="navbar-logo" />
        </a>
        <div class="navbar-search-container">
          <input
            type="text"
            placeholder="Search for @users"
            class="search-bar"
            id="searchBar"
          />
          <div id="searchResults" class="search-results hidden"></div>
        </div>
        <div class="navbar-links">
          <div class="navbar-item">
            <a href="#" id="darkModeToggle">
              <img
                src="/assets/Dark_mode.svg"
                alt="Dark Mode"
                class="navbar-icon"
                id="themeIcon"
              />
            </a>
            <span class="navbar-label">Dark Mode</span>
          </div>
          <div class="navbar-item">
            <a href="/">
              <img src="/assets/Home.svg" alt="Home" class="navbar-icon" />
            </a>
            <span class="navbar-label">Home</span>
          </div>
          <div class="navbar-item">
            <a href="/chat">
              <img src="/assets/Chat.svg" alt="Chat" class="navbar-icon" />
            </a>
            <span class="navbar-label">Chat</span>
          </div>
          <div class="navbar-item">
            <a href="/profile">
              <img
                src="/assets/Profile.svg"
                alt="Profile"
                class="navbar-icon"
              />
            </a>
            <span class="navbar-label">Profile</span>
          </div>
          <div class="navbar-item">
            <a href="/help">
              <img src="/assets/Help.svg" alt="Help" class="navbar-icon" />
            </a>
            <span class="navbar-label">Help</span>
          </div>
          <div class="navbar-item">
            <a href="/settings">
              <img
                src="/assets/Settings.svg"
                alt="Settings"
                class="navbar-icon"
              />
            </a>
            <span class="navbar-label">Settings</span>
          </div>
        </div>
      </div>
    </header>

    <main class="content">
      <div class="chat-container">
        <div class="chat-sidebar">
          <h2>Online Users</h2>
          <ul id="online-users">
          </ul>
          <div class="chat-rooms">
            <h2>Chat Rooms</h2>
            <ul id="chat-rooms">
              <li data-room="general" class="active">General</li>
              <li data-room="announcements">Announcements</li>
              <li data-room="support">Support</li>
            </ul>
          </div>
        </div>
        <div class="chat-main">
          <div class="chat-header">
            <h1 id="current-room">General</h1>
            <p id="room-members"></p>
          </div>
          <div class="chat-messages" id="chat-messages">
            <!-- Messages will be dynamically populated here -->
          </div>
          <div class="chat-input-container">
            <form id="chat-form">
              <input
                type="text"
                id="chat-message"
                placeholder="Type your message..."
                autocomplete="off"
              />
              <button type="submit">Send</button>
            </form>
          </div>
        </div>
        <div class="chat-details">
          <div class="user-details">
            <h2>Your Info</h2>
            <div class="user-info">
              <p><strong>Username:</strong> <%= user.username %></p>
              <p>
                <strong>Status:</strong> <span id="user-status">Online</span>
              </p>
            </div>
          </div>
          <div class="room-details">
            <h2>Room Details</h2>
            <div id="room-description">
              <p>
                Welcome to the General chat room. This is a space for all users
                to chat together.
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="main-footer">
      <div class="footer-content">
        <img src="/assets/VintageChat.png" alt="logo" class="footer-logo" />
        <div class="footer-info">
          <p class="contributor">Contributor: Hugo Wilinski</p>
          <p>&copy; 2025 VintageChat. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
